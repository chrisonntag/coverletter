%% coverletter.tex
%% Copyright 2021 Christoph Sonntag
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
% and version 1.3 or later is part of all distributions of LaTeX
% version 2005/12/01 or later.
%
% This work has the LPPL maintenance status `maintained'.
%
% The Current Maintainer of this work is Christoph Sonntag.
%
% This work consists of only the file coverletter.tex

\documentclass{article}
\usepackage[top=4cm, bottom=2.5cm, left=2.5cm, right=2cm]{geometry}
\usepackage{tikz}
\usepackage{xcolor}
\usepackage[absolute,overlay]{textpos}
\usepackage{fontspec}
\usepackage{setspace}
\usepackage{titlesec}
\usepackage{pstricks}
\usepackage{amssymb}
\usepackage{paralist}
\usepackage{xifthen}
\usepackage{lipsum}
\usepackage{everyshi}

\usepackage[pdfauthor={Christoph Sonntag},
            pdftitle={Christoph Sonntag's Cover Letter},
            pdfkeywords={}]{hyperref}
\usepackage{hyperref}

\newcommand*\name{John Doe}
\newcommand*\email{cv@johndoe.com}
\newcommand*\phone{+49 151 79928305}
\newcommand*\website{https://jondoe.com}
\newcommand*\github{johnnydoey}
\newcommand*\linkedin{johndoe}

\newcommand*\recipientfirstname{\empty}
\newcommand*\recipientlastname{\empty}
\newcommand*\recipientprefix{\empty}
\newcommand*\recipienttitle{\empty}
\newcommand*\company{GitHub}
\newcommand*\companyaddress{GitHub Gate 2}
\newcommand*\companycity{San Francisco, CA}
\newcommand*\companystate{USA}
\newcommand*\companyzipcode{02312}


\definecolor{mygray}{gray}{0.95}
\definecolor{lightdark}{gray}{0.55}
\definecolor{dark}{gray}{0.3}
\definecolor{skillbg}{gray}{0.7}
\definecolor{headgreen}{RGB}{48, 227, 129}
\definecolor{headred}{RGB}{235, 44, 55}

\newcommand{\amount}{1.7in}

\pagenumbering{gobble}
\linespread{1.2}
\renewcommand{\labelitemi}{$\blacksquare$}
\renewenvironment{itemize}[1]{\begin{compactitem}#1}{\end{compactitem}}

% Helpers

%\newcommand\hl[1]{{\ralewaysb #1}}
\newcommand\hl[1]{#1}


% Fonts
\newfontfamily\raleway{Raleway-v4020 Regular}
\newfontfamily\ralewaym{Raleway-v4020 Medium}
\newfontfamily\ralewaysb{Raleway-v4020 SemiBold}
\newfontfamily\ralewayb{Raleway-v4020 Bold}
\newfontfamily\ralewayeb{Raleway-v4020 ExtraBold}
\newfontfamily\ralewaybb{Raleway-v4020 Black}

\setmainfont{Raleway-v4020 Regular}


% Styles
\newcommand{\nameheader}[2]{
    \begin{center}
        \Huge{
            \textcolor{dark}{\ralewayeb{#1 #2}}
        }
    \end{center}
}


\setlength{\TPHorizModule}{1mm}
\setlength{\TPVertModule}{1mm}
\setlength{\parindent}{0mm}

\newcommand{\contactline}[2]{
    \ralewaysb{#1} & \raleway{#2}
}

\newcommand{\block}[3]{
    {\large\ralewayb #1}

    \ralewaym{\color{lightdark}#2}

    \raleway{#3}

    \vspace{1.5em}
}

\newcommand*\header{
    \begin{minipage}{0.2\paperwidth}
        \Huge{
            \textcolor{dark}{\ralewayeb{\name}}
        }
    \end{minipage}

    \hfill 
      
    \begin{minipage}{0.5\paperwidth}
      \flushright{
          \begin{tabular}{rl}
              \contactline{Phone}{\phone} \\
              \contactline{Email}{\email} \\
              \contactline{Website}{\href{\website}{\website}} \\
              \contactline{GitHub}{\href{https://github.com/\github}{@\github}} \\
              \contactline{LinkedIn}{\href{https://linkedin.com/in/\linkedin}{/in/\linkedin}}
          \end{tabular}
        }
    \end{minipage}
}


\begin{document}

% background
\begin{tikzpicture}[remember picture,overlay]
  \fill[mygray] (current page.north west) rectangle ([yshift=-4cm]current page.north east);
  \node at ([yshift=-2cm,xshift=0.5\textwidth+2.5cm]current page.north west){\noindent\makebox[\textwidth]{\header}};
\end{tikzpicture}

\makebox[\textwidth]{
  \begin{minipage}[b]{0.5\textwidth}
      \company\\
      \companyaddress\\
      \companyzipcode\ \companycity\\
      \companystate
    \end{minipage}

    \hfill 
      
    \begin{minipage}[b]{0.5\textwidth}
      \flushright{\today}
    \end{minipage}
}

\vspace{2.5em}

To Whom It May Concern,\\

\lipsum

I would be happy if we could meet in \companycity someday and am looking forward to your response. 

Thank you for your consideration of my application.
\\\\
Sincerely\\
\name


\end{document}

